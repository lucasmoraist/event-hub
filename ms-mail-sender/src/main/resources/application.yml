server:
  port: 8081
spring:
  application:
    name: ms-mail-sender
  main:
    allow-bean-definition-overriding: true
  rabbitmq:
    host: localhost
    port: 5672
    username: guest
    password: guest
    virtual-host: /
  cloud:
    config:
      fail-fast: true
    function:
      definition: >
        confirmEmailConsumer;
        confirmInscriptionConsumer;
    stream:
      default-binder: rabbit
      bindings:
        confirmEmailConsumer-in-0:
          destination: sendEmail
          content-type: application/json
          group: ${spring.application.name}
          consumer:
            concurrency: 30
        confirmInscriptionConsumer-in-0:
          destination: sendEmail
          content-type: application/json
          group: ${spring.application.name}
          consumer:
            concurrency: 30
      rabbit:
        bindings:
          confirmEmailConsumer-in-0:
            consumer:
              auto-bind-dlq: true
              republish-to-dlq: true
              transacted: true
              binding-routing-key: confirmEmail
              exchange-type: direct
          confirmInscriptionConsumer-in-0:
            consumer:
              auto-bind-dlq: true
              republish-to-dlq: true
              transacted: true
              binding-routing-key: confirmInscription
              exchange-type: direct
  mail:
    host: smtp.gmail.com
    port: 587
    username: ${GMAIL_EMAIL}
    password: ${GMAIL_PASSWORD}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
logging:
  level:
    com.event_hub: DEBUG

app:
  environment:
    url: ${APP_ENVIRONMENT_URL:http://localhost:8080}